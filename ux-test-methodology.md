# UXテスト方法論テンプレート

> 汎用的なペルソナウォークスルー + UI/UXスペシャリストレビューのフレームワーク。
> 新規ツール・機能追加時にこのテンプレートをコピーしてカスタマイズして使用する。

---

## 1. テスト構造の概要

```
Step 1: ペルソナ設計（通常5人 + 意地悪ペルソナ）
Step 2: 全ペルソナでウォークスルー実施
Step 3: 課題一覧の作成
Step 4: POがビジネス観点でスクリーニング + フラグ付け
Step 5: UI/UXスペシャリストが自らテスト + 全課題をレビュー・判定
Step 6: POが最終承認（スペシャリスト判定の承認/変更）
Step 7: 🔴判定（PO承認済み）の修正実装 + 再テスト + ビルド確認
```

---

## 2. ペルソナ設計ガイドライン

### 2.1 通常ペルソナ（5人）

ツールのターゲットユーザーを5つの軸でカバーする。

| # | 軸 | 設計意図 |
|---|-----|---------|
| ① | 初心者・初回利用者 | ツールの目的を知らない人が迷わず使えるか |
| ② | 中級者・日常利用者 | 最も多いユースケースがスムーズに完了するか |
| ③ | 上級者・パワーユーザー | 高度な機能やエッジケースを使いこなせるか |
| ④ | 異なる職種・立場のユーザー | ターゲット外だが利用可能性がある層 |
| ⑤ | 特定のゴールを持つユーザー | 「○○したい」という明確な目的で来訪 |

**ペルソナの記述フォーマット:**

```
**① [名前]さん（[年齢]歳・[職業・役割]）**
[背景と動機を1-2文で]
→ [具体的な操作ステップを箇条書きで]
```

**良いペルソナの条件:**
- 具体的な名前・年齢・職業がある（感情移入しやすい）
- 「なぜこのツールを使うのか」の動機が明確
- 期待する操作ステップが具体的（「○○を入力 → △△が表示」）
- 5人で主要ユースケースの80%以上をカバーしている

### 2.2 意地悪ペルソナ（カテゴリ別）

ツールの種類に応じて、以下のカテゴリから必要なものを選択する。

#### A. 不正入力テスター（全ツール共通）
- 空文字で実行ボタンを押す
- 型の不一致（数値欄に文字列、等）
- 特殊文字（`<script>`, `' OR 1=1`, 絵文字、サロゲートペア）
- 極端に長い入力（10万文字以上）
- 極端に短い入力（1文字）
- 負の値、ゼロ、小数点
- コピペで意図しないフォーマットが混入（改行、タブ、全角スペース）

#### B. 境界値テスター（計算・変換ツール向け）
- 最小値 / 最大値の境界
- 日付の境界（月末、年末、閏年2月29日）
- ドメイン固有の境界（元号の切り替え日、税率変更日等）
- ゼロ除算が起きる組み合わせ
- オーバーフローが起きる大きな数値

#### C. パフォーマンステスター（データ処理ツール向け）
- 大量データ入力（1,000件、10,000件）
- 巨大ファイルアップロード
- 連続実行（ボタン連打）
- UIがフリーズしないか（Web Workerの有無）
- プログレス表示の有無

#### D. 課金フローテスター（有料ツール向け）
- 無料枠の使い切り → アップグレード導線表示
- Stripe Checkout画面でブラウザバック
- 成功ページに直接URLアクセス（session_idなし）
- localStorageのカウント/subscription_idの手動改ざん
- 日付変更・月変更による制限リセットの挙動

#### E. AI出力品質テスター（AI連携ツール向け）
- 意味不明な入力 → AIの応答品質
- 想定外の言語での入力（英語入力 → 日本語ツール）
- AIのJSON出力がパース失敗した場合のフォールバック
- APIタイムアウト・ネットワーク切断時の挙動
- 生成中のキャンセル操作

#### F. セキュリティテスター（入力があるツール全般）
- XSS（`<script>alert(1)</script>` を各入力欄に）
- SQLインジェクション風入力（SQL出力があるツール）
- HTMLタグのエスケープ確認
- ファイルアップロードの拡張子偽装

---

## 3. UI/UXスペシャリストの設定

### 3.1 人物像の定義

テスト対象のドメインに適した専門家を設定する。

```
**[名前]（[経歴1行]）**

持論: 「[そのスペシャリストの哲学を1文で]」

専門領域: [ツールのドメインに合わせて]
```

**例:**
- 開発者ツール → UXエンジニアリング経験者
- 業務ツール → 業務システムUXコンサルタント
- コンシューマー向け → モバイルファーストのUXデザイナー

### 3.2 レビュー基準（共通）

スペシャリストは以下の観点で全ツールを自ら操作してレビューする:

| 観点 | チェック内容 |
|------|------------|
| 情報設計 | ページを開いて3秒以内にツールの目的が伝わるか |
| 操作フロー | 入力→実行→結果のフローに無駄なステップがないか |
| フィードバック | ボタン押下後に何が起きたか即座に分かるか |
| エラー回復 | エラー時にユーザーが自力で次のアクションを取れるか |
| モバイル対応 | スマホでの主要操作（入力→実行→コピー）が快適か |
| アクセシビリティ | コントラスト比、フォーカス順序、スクリーンリーダー対応 |
| ブランド一貫性 | 複数ツール間でUI言語・トーン・レイアウトが統一されているか |

**AI連携ツール追加観点:**

| 観点 | チェック内容 |
|------|------------|
| 生成待ちUX | プログレス表示があるか、キャンセル可能か |
| APIエラー | ネットワーク切断・APIダウン時の表示が適切か |
| 信頼性表示 | AI生成結果の免責表示が適切か |
| 課金導線 | 無料枠使い切り後のUXが押し付けがましくないか |

### 3.3 判定基準

| 判定 | 基準 | アクション |
|------|------|-----------|
| 🔴 修正する | ユーザーが目的を達成できない、または重大な混乱を招く | 今すぐ修正 |
| 🟡 後日対応 | 改善の余地はあるが、現状でも使える | バックログに記録 |
| ⚪ 修正しない | 好みの範囲、または工数に対して効果が小さい | 記録のみ |

**判定の原則:**
- ユーザーの目的達成を阻害 → 🔴
- 体験を損ねるが回避策がある → 🟡
- 「あると嬉しい」レベル → ⚪
- 既知の技術的制限（localStorage簡易認証等）→ ⚪

---

## 4. プロダクトオーナー（PO）の設定

### 4.1 役割

UI/UXスペシャリストがユーザー体験の観点で判定するのに対し、POはビジネス・プロダクト戦略の観点から課題を評価する。スペシャリストの判定に対する最終承認権を持つ。

### 4.2 人物像の定義

```
**[名前]（[経歴1行]）**

持論: 「[プロダクト哲学を1文で]」

判断基準:
- ビジネスインパクト（売上・コンバージョン・離脱率への影響）
- 開発コスト対効果（修正工数 vs 改善効果）
- 戦略的優先度（今のフェーズで重要か）
- 技術的負債（今直さないと後で大きくなるか）
```

**例:**

```
**佐藤 健一（さとう けんいち）**

元リクルート プロダクトマネージャー → SaaS スタートアップCPO → 
個人開発プロダクトのアドバイザリー歴5年。
100以上のマイクロSaaSの立ち上げ・グロースに関与。

持論: 「完璧を目指して遅れるより、80点で出して市場の反応を見ろ。
ただし、信頼を失う20%だけは絶対に落とすな」

判断基準:
- 収益直結の課題か（課金フロー障害、離脱ポイント）→ 最優先
- ユーザーの信頼に関わるか（計算ミス、データ消失）→ 最優先
- 初回体験を損ねるか（初見で迷う、目的達成できない）→ 高優先
- 体験を磨く改善か（あると嬉しい、デザイン微調整）→ 後日
- 特定条件でしか発生しないか（レアケース）→ 後日 or 対応しない
```

### 4.3 POとスペシャリストの分担

| 観点 | PO | UXスペシャリスト |
|------|-----|-----------------|
| ユーザー体験の品質 | — | ◎ 主担当 |
| ビジネスインパクト | ◎ 主担当 | — |
| 修正の優先度決定 | ◎ 最終判断 | △ 推奨のみ |
| 技術的負債の評価 | ○ | — |
| フェーズ適合性 | ◎ 「今やるべきか」 | — |

### 4.4 テストフローにおけるPOの介入ポイント

```
Step 1: ペルソナウォークスルー
Step 2: 課題一覧作成
Step 3: POがビジネス観点でスクリーニング
        → 明らかに対応不要な課題をフィルタ
        → ビジネスクリティカルな課題にフラグ付け
Step 4: UXスペシャリストがUX観点でレビュー・判定
        → POフラグ付き課題は重点レビュー
Step 5: POが最終承認
        → スペシャリストの🔴判定を承認 or 🟡に変更
        → スペシャリストの🟡判定を🔴に昇格させることもある
Step 6: 🔴判定の修正実装
Step 7: 再テスト + ビルド確認
```

### 4.5 POの最終判定テーブル

スペシャリスト判定にPO承認列を追加する:

```
| # | 課題 | 深刻度 | スペシャリスト判定 | PO承認 | PO理由 |
|---|------|--------|-------------------|--------|--------|
| 1 | ... | 高 | 🔴 修正する | ✅ 承認 | 課金フロー障害、即修正 |
| 2 | ... | 中 | 🔴 修正する | ⏸ 🟡に変更 | 影響範囲が限定的、来週対応 |
| 3 | ... | 中 | 🟡 後日対応 | ⬆ 🔴に昇格 | 初回体験の離脱に直結 |
| 4 | ... | 低 | ⚪ 修正しない | ✅ 承認 | 同意 |
```

---

## 5. テスト実施テンプレート

以下をコピーして、ツール固有の内容を埋める。

```markdown
# Session X: ペルソナUXテスト — [ツール名]

## テストの進め方
1. 各ツールごとに通常ペルソナ5人 + 意地悪ペルソナで全操作をウォークスルー
2. 発見された課題を一覧化
3. UI/UXスペシャリスト[名前]が全ツールを操作しレビュー + 全課題に判定
4. 🔴判定のもののみ修正実装

---

## UI/UXスペシャリスト：[名前]
[経歴・持論・レビュー基準を記載]

---

## ツール: [ツール名]（[パス or URL]）

### 通常ペルソナ

**① [名前]さん（[年齢]歳・[職業]）**
[背景と動機]
→ [操作ステップ]

**②〜⑤** 同様に記載

### 意地悪ペルソナ

**⑥ [カテゴリ]テスター**
- [テスト項目1] → [期待する挙動]
- [テスト項目2] → [期待する挙動]

**⑦〜** 必要なカテゴリを追加

---

## テスト実施手順

### Step 1: ペルソナウォークスルー
全ペルソナで実際に操作し、以下を記録:
- ✅ 目的達成できた
- ⚠️ 達成できたが迷った（どこで迷ったか）
- ❌ 達成できなかった（何が障害か）

### Step 2: 課題一覧
| # | ツール | ペルソナ | 課題 | 深刻度 |
|---|--------|---------|------|--------|

### Step 3: POスクリーニング
POがビジネス観点で全課題をスクリーニング。
ビジネスクリティカルな課題にフラグ付け。明らかに対応不要な課題をフィルタ。

### Step 4: スペシャリストレビュー
スペシャリストが自ら操作 + Step 2の課題に判定を付与。
POフラグ付き課題は重点レビュー。独自発見の課題も追加。

### Step 5: PO最終承認
| # | 課題 | 深刻度 | スペシャリスト判定 | PO承認 | PO理由 |
|---|------|--------|-------------------|--------|--------|

### Step 6: 🔴判定（PO承認済み）の修正実装

---

## 完了条件
- [ ] 全ペルソナのウォークスルーが完了している
- [ ] 課題一覧が作成されている
- [ ] POスクリーニングが完了している
- [ ] スペシャリストのレビュー判定が全課題に付いている
- [ ] POが最終承認を完了している
- [ ] 🔴判定（PO承認済み）の課題が全て修正されている
- [ ] 修正後に該当ペルソナで再テストし、課題が解消されている
- [ ] npm run build が通る
```

---

## 6. 実践Tips

### 5.1 ペルソナ設計のコツ

- **ペルソナ間で操作パスが重複しないようにする** — 5人で異なる機能・フローをカバー
- **1人のペルソナに複数の確認項目を詰め込みすぎない** — 1ペルソナ = 1ゴール
- **実在しそうな人物像にする** — 「30歳エンジニア」より「30歳・QAテスター・テストデータ作成のためにツールを探している」
- **ペルソナの技術レベルを明示する** — 初心者が迷うポイントと上級者が求める機能は異なる

### 5.2 意地悪ペルソナの選び方

| ツールの特性 | 優先すべきカテゴリ |
|-------------|-----------------|
| フォーム入力がメイン | A（不正入力）+ F（セキュリティ） |
| 計算・変換ツール | A + B（境界値） |
| データ生成・処理 | A + C（パフォーマンス） |
| 有料機能あり | D（課金フロー） |
| AI連携あり | E（AI出力品質）+ D |
| ファイルアップロードあり | A + C + F |

### 5.3 テスト効率化

- **通常ペルソナで機能カバレッジ、意地悪ペルソナで堅牢性をテスト** — 役割を分ける
- **1セッションで4ツール以上テストする場合は、ツール横断の一貫性チェックもスペシャリストに依頼**
- **🟡の蓄積を定期的にレビュー** — 3回以上のテストで🟡が残り続けている項目は🔴に昇格を検討
- **テスト結果は変更履歴に記録** — 「🔴X件修正、🟡Y件記録」の形式で

### 5.4 スペシャリストの運用

- **同一プロジェクト内では同一のスペシャリストを継続起用** — ツール間の一貫性を担保
- **スペシャリストはペルソナテストとは独立に自身のテストも行う** — ペルソナが見逃した観点を補完
- **スペシャリストの判定はPOが最終承認する** — セクション4のフローに従う

---

## 7. チェックリスト（テスト開始前の準備）

- [ ] テスト対象のURLまたはローカル環境が起動している
- [ ] 通常ペルソナ5人が設計済み（全員異なるユースケース）
- [ ] 意地悪ペルソナがツール特性に応じて選択済み
- [ ] プロダクトオーナーが定義済み（経歴・判断基準）
- [ ] UI/UXスペシャリストが定義済み（経歴・レビュー基準・判定基準）
- [ ] 完了条件が明記されている
- [ ] 修正対象のリポジトリでビルドが通る状態である
